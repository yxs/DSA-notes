[271. Encode and Decode Strings](https://leetcode.cn/problems/encode-and-decode-strings/)


## use a non-ASCII delimiter

There are 256 ASCII characters, use non-ASCII characters as split.


Time Complexity: `O(N)`
Space Complexity: encode `O(1)`, decode `O(N)`

```python
from typing import List


class Codec:
    def encode(self, strs: List[str]) -> str:
        """Encodes a list of strings to a single string."""
        if len(strs) == 0:
            return chr(258)
        return chr(257).join(strs)

    def decode(self, s: str) -> List[str]:
        """Decodes a single string to a list of strings."""
        if s == chr(258):
            return []
        return s.split(chr(257))


# Your Codec object will be instantiated and called as such:
# codec = Codec()
# codec.decode(codec.encode(strs))

```

## chunked encoding

The first 4 bits record the length of each array

```python
from typing import List


class Codec:
    def encode(self, strs: List[str]) -> str:
        """Encodes a list of strings to a single string."""
        list_ = []
        for i in strs:
            list_.append("{:4}".format(len(i)) + i)
        return "".join(list_)

    def decode(self, s: str) -> List[str]:
        """Decodes a single string to a list of strings."""
        index = 0
        list_ = []
        while index <= len(s) - 2:
            char_long = int(s[index : index + 4])
            list_.append(s[index + 4 : index + char_long + 4])
            index += 4 + char_long
        return list_


# Your Codec object will be instantiated and called as such:
# codec = Codec()
# codec.decode(codec.encode(strs))

codec = Codec()

strs = ["qqqqwe", "rasdfzxcvt"]
print(codec.encode(strs))
```


https://leetcode.cn/problems/encode-and-decode-strings/solution/python3-ji-lu-fa-by-qing-bi-ning-shuang-z6mi/