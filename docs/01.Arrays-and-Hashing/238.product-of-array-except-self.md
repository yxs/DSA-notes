[238. Product of Array Except Self](https://leetcode.com/problems/product-of-array-except-self/)


Find the prefix and suffix. Because the output can not be counted into the space complexity, it can be optimized into a prefix and placed in the output, and the suffix can be dynamically calculated.

Time Complexity: `O(N)`
Space Complexity: `O(1)`

```python
class Solution:
    def productExceptSelf(self, nums: List[int]) -> List[int]:
        n = len(nums)
        res = [0] * n
        res[0] = 1
        # prefix product
        for i in range(1, n):
            res[i] = nums[i - 1] * res[i - 1]
        suffix = 1
        for i in reversed(range(n)):
            res[i] = res[i] * suffix
            # calculate suffix dynamically
            suffix *= nums[i]
        return res

```